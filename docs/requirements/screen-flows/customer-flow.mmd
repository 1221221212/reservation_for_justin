```mermaid

flowchart TD
  subgraph CustomerFlow["顧客画面フロー"]
    CF1["店舗一覧"]
    %% 店舗選択後カレンダー表示
    CF1 -- 店舗を選択 --> CF2["カレンダー"]
    %% 日付選択後人数・時間へ
    CF2 -- 日付選択完了 --> CF3["人数・時間選択"]

    %% コース選択の分岐
    CF3 -->|人数・時間確定| D1{コース選択？}
    D1 -->|はい| CF4["コース選択"]
    D1 --|いいえ|--> D2{座席選択？}
    CF4 -- コース確定 --> D2

    %% 座席選択の分岐
    D2 -->|はい| CF5["座席選択"]
    D2 --|いいえ|--> CF6["予約情報入力"]
    CF5 -- 座席確定 --> CF6

    %% 情報入力後確認へ
    CF6 -- 入力完了 --> CF7["予約確認"]

    %% 成功判定
    CF7 -->|確認OK・予約処理| D3{予約成功？}
    D3 -->|成功| CF8["予約成功"]
    D3 --|失敗|--> CF9["予約失敗"]
  end
```